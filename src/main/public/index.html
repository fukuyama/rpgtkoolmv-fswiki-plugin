<!DOCTYPE html>
<html>
  <head lang="ja">
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
  </head>
  <body>
    <event-view></event-view>
    <script type="text/javascript" src="js/event_view.js"></script>
    <script type="text/javascript">
    function loadData(url,success) {
      $.ajax({
        url      : url,
        dataType : 'json',
        cache    : false,
        success  : success,
        error    : function (xhr, status, err) {
          console.error(this.props.url, status, err.toString());
        }
      });
    }
    loadData('data/System.json',function (data) {
      event_view.update({switches:data.switches});
      loadData('data/Map001.json',function (data) {
        event_view.update({
          datamap : data,
          event   : data.events[2]
        });
      });
    });
    </script>
  </body>
</html>
